PORT=4010
# PostgreSQL connection string
DATABASE_URL=postgresql://support_chat:password@localhost:5432/support_chat?schema=public

# Internal service token for admin endpoints (hex or random string)
SERVICE_TOKEN=change-me-service-token

# Telegram bot configuration
BOT_TOKEN=123456789:telegram-bot-token
SUPPORT_GROUP_ID=-1001234567890

# Public origin for serving widget (scheme+host, no trailing slash)
PUBLIC_ORIGIN=https://cms.example.com

# Webhook security
WEBHOOK_SECRET=random-secret-path-segment
# Optional: enforce Telegram header secret (recommended in production)
TELEGRAM_HEADER_SECRET=

# JWT signing secret for customer conversation tokens
CONVERSATION_JWT_SECRET=change-me-jwt-secret

# Data retention in days for CLOSED conversations
RETENTION_DAYS=90

# Scheduler timings (ms). Defaults used if unset.
#AUTO_CLOSE_WINDOW_MS=86400000
#UNCLAIMED_REMINDER_1_MS=300000
#UNCLAIMED_REMINDER_2_MS=900000

# WebSocket throttling
#WS_MSGS_PER_WINDOW=30
#WS_WINDOW_MS=10000

# Conversation token and start rate config
# When true, JWTs are NOT bound to IP (recommended for NAT/mobile)
UNBIND_JWT_FROM_IP=true
# Public start endpoint IP rate limit (points per duration seconds)
START_IP_POINTS=20
START_IP_DURATION_SEC=60

