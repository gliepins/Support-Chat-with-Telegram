"use strict";(()=>{(function(){var S=document,a=window,_t=!1;function U(t,i){try{var r=getComputedStyle(document.documentElement).getPropertyValue(t).trim();return r||i}catch(c){return i}}function Ct(t){try{var i=parseFloat(t);return isFinite(i)?Math.max(0,Math.min(1,i)):0}catch(r){return 0}}function St(){try{var t=document.documentElement;if(t.getAttribute("data-theme")==="dark"||t.classList.contains("theme-dark")||document.body&&document.body.classList.contains("theme-dark"))return!0;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){var i=getComputedStyle(document.body).backgroundColor;if(i){var r=i.match(/\d+/g);if(r&&r.length>=3){var c=(parseInt(r[0])+parseInt(r[1])+parseInt(r[2]))/3;if(c<128)return!0}}}}catch(h){}return!1}function kt(t){return{primary:U("--color-primary-main",t?"#4A9EFF":"#2563eb"),primaryDark:U("--color-primary-dark",t?"#66B2FF":"#1e40af"),bgPaper:U("--color-background-paper",t?"#161B22":"#ffffff"),bgDefault:U("--color-background-default",t?"#0D1117":"#ffffff"),textPrimary:U("--color-text-primary",t?"#F0F6FC":"#111827"),textInverse:t?"#0D1117":"#ffffff",border:U("--color-border-main",t?"#30363D":"#e5e7eb"),muted:t?"#8B949E":"#6b7280"}}function It(t,i){return`
.scw-btn{position:fixed;right:16px;bottom:16px;background:`+t.primary+";color:"+t.textInverse+";border-radius:999px;padding:12px 16px;font:14px sans-serif;cursor:pointer;z-index:2147483000;box-shadow:0 8px 20px "+(i?"rgba(0,0,0,.4)":"rgba(0,0,0,.15)")+`}
.scw-badge{position:absolute;top:-4px;right:-4px;background:#ef4444;color:#fff;border-radius:999px;min-width:18px;height:18px;display:none;align-items:center;justify-content:center;font:11px sans-serif;padding:0 5px}
.scw-panel{position:fixed;right:16px;bottom:64px;width:380px;height:600px;background:`+t.bgPaper+";border:1px solid "+t.border+";border-radius:12px;box-shadow:0 16px 30px "+(i?"rgba(0,0,0,.5)":"rgba(0,0,0,.2)")+`;display:none;flex-direction:column;overflow:hidden;z-index:2147483000}
.scw-head{padding:10px 12px;background:`+t.primaryDark+";color:"+t.textInverse+`;font:600 14px sans-serif;display:flex;justify-content:space-between;align-items:center}
.scw-head .scw-actions{display:flex;gap:10px;align-items:center}
.scw-edit{cursor:pointer;opacity:.9}
.scw-edit:hover{opacity:1}
.scw-name-edit{display:flex;gap:6px;align-items:center;margin-left:8px;flex-wrap:wrap}
.scw-name-edit input{flex:1 1 100%;min-width:0;padding:4px 6px;border-radius:6px;border:1px solid `+t.border+";font:12px sans-serif;background:"+t.bgPaper+";color:"+t.textPrimary+`}
.scw-name-btn{background:#10b981;border:0;color:#fff;padding:4px 8px;border-radius:6px;cursor:pointer;font:12px sans-serif}
.scw-name-cancel{background:`+t.muted+";color:"+t.textInverse+`}
.scw-banner{display:none;background:`+t.primaryDark+";color:"+t.textInverse+";font:12px sans-serif;padding:6px 8px;border-bottom:1px solid "+t.border+`}
.scw-body{flex:1;overflow:auto;padding:8px;background:`+(i?t.bgDefault:U("--color-background-default","#f9fafb"))+`}
.scw-msg{margin:6px 0;max-width:84%;padding:8px 10px;border-radius:10px;font:14px sans-serif;display:flex;gap:8px;align-items:flex-end;flex-direction:column;word-break:break-word;overflow-wrap:anywhere}
.scw-line{white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}
.scw-in{background:`+t.primary+";color:"+t.textInverse+`;margin-left:auto;align-items:flex-end}
.scw-out{background:`+(i?"#21262D":t.border)+";color:"+t.textPrimary+`;margin-right:auto;align-items:flex-start}
.scw-time{opacity:.7;font:11px sans-serif;color:`+t.textPrimary+`}
.scw-agent{opacity:.85;font:11px sans-serif;margin-bottom:2px;color:`+t.textPrimary+`}
.scw-input{display:flex;border-top:1px solid `+t.border+";background:"+t.bgPaper+`}
.scw-input textarea{flex:1;border:0;padding:10px;font:14px sans-serif;outline:none;background:`+t.bgPaper+";color:"+t.textPrimary+`;resize:none;min-height:38px;max-height:140px;line-height:1.35;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}
.scw-input button{border:0;background:`+t.primary+";color:"+t.textInverse+`;padding:0 12px;font:14px sans-serif;cursor:pointer}
.scw-retry{cursor:pointer;color:`+(i?"#FDB022":"#fde68a")+`;margin-left:8px;text-decoration:underline}
@media (max-width: 480px){.scw-panel{width:92vw;height:70vh}}
`}var H=St(),st=kt(H),lt=It(st,H),$=null;function l(t,i,r){var c=S.createElement(t);return i&&(c.className=i),r!=null&&(c.textContent=String(r)),c}function Ut(){_t||($=l("style"),$.textContent=lt,$.id="scw-style",S.head.appendChild($),_t=!0)}function ut(){try{var t=St();if(t===H)return;H=t,st=kt(H),lt=It(st,H),$&&($.textContent=lt)}catch(i){}}function dt(t){try{var i=("; "+document.cookie).split("; "+t+"=");if(i.length===2)return i.pop().split(";").shift()}catch(r){}return""}function G(t,i,r){try{var c=new Date;c.setTime(c.getTime()+(r||30)*24*60*60*1e3),document.cookie=t+"="+encodeURIComponent(i)+"; expires="+c.toUTCString()+"; path=/"}catch(h){}}function Pt(t){try{var i=new Date(t);return i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(r){return""}}function tt(t,i,r,c,h){var v=l("div","scw-msg "+(i==="IN"?"scw-in":"scw-out"));if(i==="OUT"&&h){var m=l("div","scw-agent",h+":");v.appendChild(m)}var s=l("div","scw-line");s.textContent=r;var d=l("div","scw-time",Pt(c||Date.now()));v.appendChild(s),v.appendChild(d),t.appendChild(v),t.scrollTop=t.scrollHeight}function Et(t,i,r){var c=l("div","scw-msg scw-out"),h=l("div","scw-agent"),v=l("div","scw-line");h.textContent="",v.textContent=i;var m=l("div","scw-time",Pt(r||Date.now()));c.style.opacity=".9",c.style.background="transparent",c.style.border="0",c.style.margin="10px 0",c.appendChild(v),c.appendChild(m),t.appendChild(c),t.scrollTop=t.scrollHeight}function Vt(t,i,r){var c=i?{name:i}:{};try{r&&typeof r=="string"&&r.trim().length&&(c.locale=r.trim())}catch(h){}return fetch(t+"/v1/conversations/start",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)}).then(function(h){if(!h.ok)throw new Error("start failed");return h.json()})}function Ft(t,i,r,c,h){var v=new WebSocket(t.replace(/^http/,"ws")+"/v1/ws?token="+encodeURIComponent(i));return v.onmessage=function(m){try{var s=JSON.parse(m.data);if(s&&s.type==="agent_joined"){var d=window.SupportChat&&window.SupportChat.__strings||null,u=s.agent&&String(s.agent).trim().length?s.agent:d&&d.supportLabel||"Support",w=d&&d.joinedSuffix;if(!w)try{var L=window.SupportChat&&window.SupportChat.__locale||"",T=window.SupportChat&&window.SupportChat.__opts&&window.SupportChat.__opts.stringsByLocale||{},V=L&&T[L]&&T[L].joinedSuffix||T.default&&T.default.joinedSuffix;w=V||" joined"}catch(b){w=" joined"}var N=u+w;r("SYS",N,Date.now(),null,!0);return}if(s&&s.type==="info_note"){r("SYS",s.text||"",Date.now());return}s&&typeof s.text=="string"&&r(s.direction==="OUTBOUND"?"OUT":"IN",s.text,Date.now(),s.agent)}catch(b){}},v.onopen=function(){c&&c()},v.onclose=function(){h&&h()},v.onerror=function(){try{v.close()}catch(m){}},v}function Yt(t,i,r,c){return fetch(t+"/v1/conversations/"+encodeURIComponent(i)+"/name",{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer "+r},body:JSON.stringify({name:c})}).then(function(h){if(!h.ok)throw new Error("rename failed");return h.json()})}function zt(){try{var t=document.currentScript&&document.currentScript.src;if(!t){var i=document.getElementsByTagName("script");i&&i.length&&(t=i[i.length-1].src)}if(t){var r=new URL(t);return r.origin}}catch(c){}return""}function Ht(){try{if(a.matchMedia){var t=a.matchMedia("(prefers-color-scheme: dark)");t.addEventListener?t.addEventListener("change",ut):t.addListener&&t.addListener(ut)}}catch(r){}try{if(a.MutationObserver){var i=new MutationObserver(ut);i.observe(S.documentElement,{attributes:!0,attributeFilter:["data-theme","class"]}),S.body&&i.observe(S.body,{attributes:!0,attributeFilter:["class"]})}}catch(r){}}function $t(t){Ut(),Ht();var i=(t&&t.origin||zt()).replace(/\/$/,""),r=a.localStorage||{getItem:function(){},setItem:function(){}},c=function(){try{var e=t&&t.locale;if(e)return String(e);try{var n=a.localStorage;if(n&&n.getItem){var o=n.getItem("i18nextLng");if(o)return String(o)}}catch(z){}var f=dt("i18nextLng");if(f)return String(f);var p=S.documentElement&&S.documentElement.lang;if(p)return String(p);var I=a.navigator&&(navigator.language||navigator.userLanguage);if(I)return String(I)}catch(z){}return"default"}();function h(e){if(e&&typeof e=="object"&&e.source)return e;if(typeof e=="string")try{var n=e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+n+"$")}catch(o){return null}return null}function v(e,n){if(!e||!e.length)return!1;for(var o=0;o<e.length;o++){var f=h(e[o]);if(f&&f.test(n))return!0}return!1}var m=Array.isArray(t&&t.includePaths)?t.includePaths:null,s=Array.isArray(t&&t.excludePaths)?t.excludePaths:null;if(a.SupportChat=a.SupportChat||{},a.SupportChat.__opts=t||{},t&&t.observeRoute&&!a.SupportChat.__observeSetup)try{var d=a.history.pushState,u=a.history.replaceState,w=function(){try{a.dispatchEvent(new Event("scw:navigate"))}catch(e){}};a.history.pushState=function(){try{d.apply(a.history,arguments)}catch(e){}w()},a.history.replaceState=function(){try{u.apply(a.history,arguments)}catch(e){}w()},a.addEventListener("popstate",w),a.addEventListener("hashchange",w),a.addEventListener("scw:navigate",function(){try{a.SupportChat&&a.SupportChat.recheck&&a.SupportChat.recheck()}catch(e){}}),a.SupportChat.__observeSetup=!0}catch(e){}var L=a.location&&a.location.pathname||"/",T=v(s,L),V=!m||m.length===0||v(m,L);if(T||!V)return;var N={chatButton:"Message us",title:"Support",reconnecting:"Reconnecting\u2026",offline:"Offline. Check your connection.",connecting:"Connecting\u2026",retry:"Retry",inputPlaceholder:"Type a message\u2026",sendLabel:"Send",editNamePlaceholder:"Your name",saveLabel:"Save",cancelLabel:"Cancel",confirmYes:"Yes",confirmNo:"No",editLabel:"Edit",clearConfirm:"Clear chat history?",closedPrompt:"Conversation closed. Start new?",soundOn:"Sound on",soundOff:"Sound off",vibrationOn:"Vibration on",vibrationOff:"Vibration off",supportLabel:"Support",joinedSuffix:" joined"},b=function(){try{var e=t&&t.stringsByLocale;if(!e)return null;var n=String(c||"").toLowerCase();return n.length>=2&&(n=n.slice(0,2)),e[n]||e.default||null}catch(o){return null}}(),g=function(){var e={};for(var n in N)e[n]=N[n];if(b)for(var n in b)b[n]!=null&&(e[n]=String(b[n]));if(t&&t.strings)for(var n in N)t.strings[n]!=null&&(e[n]=String(t.strings[n]));return e}();try{a.SupportChat=a.SupportChat||{},a.SupportChat.__strings=g,a.SupportChat.__locale=String(c||"").toLowerCase().slice(0,2)||"default"}catch(e){}function F(){try{return a.SupportChat&&a.SupportChat.__strings||g}catch(e){return g}}function P(e,n){try{var o=r.getItem(e);return o==null||o===""?n:o}catch(f){return n}}function J(e,n){try{r.setItem(e,n)}catch(o){}}var W=t&&typeof t.showSoundToggle=="boolean"?!!t.showSoundToggle:!0,Gt=t&&typeof t.showVibrationToggle=="boolean"?!!t.showVibrationToggle:!0;try{t&&t.soundDefaultOn===!0&&r.getItem("scw:notify:sound")==null&&r.setItem("scw:notify:sound","1")}catch(e){}try{t&&t.vibrationDefaultOn===!0&&r.getItem("scw:notify:vibrate")==null&&r.setItem("scw:notify:vibrate","1")}catch(e){}var Jt=t&&typeof t.soundGain=="number"?Math.max(.1,Math.min(5,t.soundGain)):1,Bt=t&&typeof t.soundVolume=="number"?Ct(t.soundVolume):null;Bt!=null&&J("scw:notify:volume",String(Bt));var j=l("div","scw-btn",g.chatButton),ft=l("div","scw-badge","0");j.style.position="fixed",j.style.bottom="16px";var et=(t&&t.position||"right")==="left"?"left":"right";j.style[et]="16px",j.style[et==="right"?"left":"right"]="auto",j.appendChild(ft);var x=l("div","scw-panel");x.style[et]="16px",x.style[et==="right"?"left":"right"]="auto";var Q=l("div","scw-head"),nt=l("div","",g.title),D=l("div","scw-actions"),rt=l("div","scw-edit","\u270E");try{rt.title=F().editLabel||g.editLabel}catch(e){}var A=W?l("div","scw-edit"):null,M=Gt?l("div","scw-edit"):null,Lt=l("div","scw-edit","_"),Tt=l("div","scw-edit","\xD7");function pt(){var e=String(P("scw:notify:sound","0"))==="1",n=String(P("scw:notify:vibrate","0"))==="1";A&&(A.textContent=e?"\u{1F514}":"\u{1F515}",A.title=e?g.soundOn:g.soundOff),M&&(M.textContent=n?"\u{1F4F3}":"\u{1F507}",M.title=n?g.vibrationOn:g.vibrationOff)}A&&(A.onclick=function(){it();var e=String(P("scw:notify:sound","0"))==="1";J("scw:notify:sound",e?"0":"1"),pt()}),M&&(M.onclick=function(){var e=String(P("scw:notify:vibrate","0"))==="1";J("scw:notify:vibrate",e?"0":"1"),pt()}),pt(),D.appendChild(rt),A&&D.appendChild(A),M&&D.appendChild(M),D.appendChild(Lt),D.appendChild(Tt),Q.appendChild(nt),Q.appendChild(D);var y=l("div","scw-banner",g.reconnecting),E=l("div","scw-body"),ht=l("div","scw-input"),k=l("textarea");k.placeholder=g.inputPlaceholder;var at=l("button","",g.sendLabel);ht.appendChild(k),ht.appendChild(at),x.appendChild(Q),x.appendChild(y),x.appendChild(E),x.appendChild(ht),S.body.appendChild(j),S.body.appendChild(x);try{a.SupportChat.__ui={btn:j,panel:x,title:nt,input:k,sendBtn:at,soundBtn:A,vibrateBtn:M,banner:y,edit:rt},a.SupportChat.__built=!0}catch(e){}function q(e,n){if(y.style.display="block",y.textContent=e,n){var o=l("span","scw-retry",g.retry);o.onclick=function(){R(!0)},y.appendChild(o)}}function vt(){y.style.display="none",y.textContent="";try{for(;y.firstChild;)y.removeChild(y.firstChild)}catch(e){}}var Rt=null,te=null,ee="";function ne(e){}function re(){}var _=null,Dt=!1;function Wt(){var e=Ct(P("scw:notify:volume","1"));return e}function it(){try{_=_||new(a.AudioContext||a.webkitAudioContext),_&&_.state==="suspended"&&_.resume(),Dt=!0}catch(e){}}try{S.addEventListener("click",function e(){it();try{S.removeEventListener("click",e)}catch(n){}},{once:!0,capture:!0})}catch(e){}function qt(){if(Dt)try{if(_=_||new(a.AudioContext||a.webkitAudioContext),_.state==="suspended")try{_.resume()}catch(p){}var e=_.createOscillator(),n=_.createGain();e.type="sine",e.frequency.value=1100;var o=Math.min(1,Math.max(2e-4,.25*Wt()*Jt)),f=_.currentTime;n.gain.setValueAtTime(1e-4,f),n.gain.linearRampToValueAtTime(o,f+.03),n.gain.linearRampToValueAtTime(1e-4,f+.32),e.connect(n),n.connect(_.destination),e.start(f),e.stop(f+.34)}catch(p){}}function Kt(){try{navigator.vibrate&&navigator.vibrate(20)}catch(e){}}function Qt(){try{var e=x.style.display==="flex";return!e||!S.hasFocus()}catch(n){return!0}}var Y=null,X=!1,ot=[],Z=0,K=0,ct="";function gt(){ft.style.display=Z>0?"flex":"none",ft.textContent=String(Z)}function Xt(){var e=parseInt(r.getItem("scw:ts")||"0",10)||0,n=30*24*60*60*1e3;e&&Date.now()-e>n&&(r.removeItem("scw:id"),r.removeItem("scw:token"))}Xt();function O(e){var n=r.getItem("scw:id")||dt("scw_id"),o=r.getItem("scw:token")||dt("scw_token");if(!e&&n&&o)return r.setItem("scw:id",n),r.setItem("scw:token",o),Promise.resolve({conversation_id:n,token:o});var f=null;try{f=a.SupportChat&&a.SupportChat.__forcedLocale||null}catch(C){}var p=f||c,I="";try{I=String(p||"").toLowerCase().slice(0,2)}catch(C){}var z=p&&typeof p=="string"&&p.toLowerCase()!=="default"&&/^[a-z]{2}$/.test(I)?I:void 0;return Vt(i,r.getItem("scw:name")||void 0,z).then(function(C){return r.setItem("scw:origin",i),r.setItem("scw:id",C.conversation_id),r.setItem("scw:token",C.token),G("scw_id",C.conversation_id,30),G("scw_token",C.token,30),r.setItem("scw:ts",String(Date.now())),{conversation_id:C.conversation_id,token:C.token}})}function Nt(){var e=F(),n=r.getItem("scw:name");nt.textContent=n?e.supportLabel+" \u2014 "+n:e.title}Nt();function jt(){try{r.removeItem("scw:id"),r.removeItem("scw:token"),G("scw_id","",-1),G("scw_token","",-1)}catch(e){}}function At(){var e=r.getItem("scw:id");return e?fetch(i+"/v1/conversations/"+encodeURIComponent(e)+"/messages").then(function(n){if(n.status===404)throw new Error("gone");if(!n.ok)throw new Error("bad");return n.json()}).then(function(n){var o=n.status,f=n.messages||[];E.innerHTML="",f.forEach(function(p){tt(E,p.direction==="INBOUND"?"IN":"OUT",p.text,new Date(p.createdAt).getTime(),p.agent)}),o==="CLOSED"&&Et(E,"Conversation closed. Start new?",Date.now())}).catch(function(){return jt(),O(!0).then(function(n){return E.innerHTML="",fetch(i+"/v1/conversations/"+encodeURIComponent(n.conversation_id)+"/messages").then(function(o){if(o.ok)return o.json()}).then(function(o){if(o){var f=o.messages||[];f.forEach(function(p){tt(E,p.direction==="INBOUND"?"IN":"OUT",p.text,new Date(p.createdAt).getTime(),p.agent)})}})})}):Promise.resolve()}function mt(e){if(!X){if(X=!0,Y&&Y.readyState===1){X=!1;return}navigator.onLine?q(K>0?g.reconnecting:g.connecting,!0):q(g.offline,!0),Y=Ft(i,e,function(n,o,f,p,I){if(n==="SYS"){Et(E,o,f),I&&void 0;return}if(n==="IN"&&ct&&o===ct){ct="";return}n==="OUT"&&void 0,tt(E,n,o,f,p),x.style.display!=="flex"&&n==="OUT"&&(Z++,gt()),n==="OUT"&&Qt()&&(String(P("scw:notify:sound","0"))==="1"&&qt(),String(P("scw:notify:vibrate","0"))==="1"&&Kt())},function(){for(X=!1,K=0,vt();ot.length;)try{Y.send(ot.shift())}catch(n){}},function(){if(X=!1,K++,navigator.onLine?(q(g.reconnecting,!0),void 0):q(g.offline,!0),K>=3)jt(),O(!0).then(function(o){At().then(function(){mt(o.token)})});else{var n=Math.min(1e4,500*K);setTimeout(function(){R()},n)}})}}function R(e){O(!1).then(function(n){e&&(K=0),mt(n.token)})}function Zt(e){if(Y&&Y.readyState===1)try{Y.send(e)}catch(n){ot.push(e),R(!0)}else ot.push(e),R(!0);ct=e,tt(E,"IN",e,Date.now())}function yt(){x.style.display="flex",r.setItem("scw:ts",String(Date.now())),r.setItem("scw:open","1"),Z=0,gt(),O(!1).then(function(e){At().then(function(){mt(e.token)})})}function wt(){x.style.display="none";try{r.removeItem("scw:open")}catch(e){}}function Ot(){try{r.removeItem("scw:id"),r.removeItem("scw:token"),r.removeItem("scw:name"),r.removeItem("scw:draft"),G("scw_id","",-1),G("scw_token","",-1)}catch(e){}E.innerHTML="",nt.textContent="Support",Z=0,gt()}j.onclick=function(){it(),x.style.display==="flex"?wt():yt()},Lt.onclick=wt,Tt.onclick=function(){var e=F();y.style.display="block",y.textContent=e.clearConfirm;try{for(;y.firstChild;)y.removeChild(y.firstChild)}catch(f){}y.textContent=e.clearConfirm+" ";var n=l("button","scw-name-btn",e.confirmYes||"Yes"),o=l("button","scw-name-btn scw-name-cancel",e.confirmNo||"No");n.style.marginLeft="8px",o.style.marginLeft="6px",y.appendChild(n),y.appendChild(o),o.onclick=function(){vt()},n.onclick=function(){vt(),Ot(),wt()}};var bt=!1;rt.onclick=function(){bt||(bt=!0,O(!1).then(function(e){var n=F(),o=r.getItem("scw:name")||"",f=l("div","scw-name-edit"),p=l("input");p.value=o,p.placeholder=n.editNamePlaceholder;var I=l("button","scw-name-btn",n.saveLabel),z=l("button","scw-name-btn scw-name-cancel",n.cancelLabel);f.appendChild(p),f.appendChild(I),f.appendChild(z),Q.insertBefore(f,D);try{D.style.display="none"}catch(B){}function C(){try{Q.removeChild(f)}catch(B){}try{D.style.display=""}catch(B){}bt=!1}z.onclick=C,I.onclick=function(){var B=p.value.trim();if(!B){C();return}Yt(i,r.getItem("scw:id"),r.getItem("scw:token")||"",B).then(function(){r.setItem("scw:name",B),Nt(),C()}).catch(function(){alert("Could not update name right now. Please try later."),C()})},p.addEventListener("keydown",function(B){B.key==="Enter"&&I.onclick(),B.key==="Escape"&&z.onclick()}),setTimeout(function(){try{p.focus(),p.select()}catch(B){}},0)}))};try{(t&&t.openOnLoad===!0||r.getItem("scw:open")==="1")&&yt()}catch(e){}function xt(){k.style.height="auto";var e=Math.min(140,Math.max(38,k.scrollHeight));k.style.height=e+"px"}k.addEventListener("input",function(){r.setItem("scw:draft",k.value||""),xt()}),at.onclick=function(){it();var e=k.value.trim();e&&(k.value="",r.removeItem("scw:draft"),xt(),Zt(e))},k.addEventListener("keydown",function(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),at.onclick())});var Mt=r.getItem("scw:draft");Mt&&(k.value=Mt,setTimeout(xt,0));try{a.addEventListener("offline",function(){q("Offline. Check your connection.",!0)}),a.addEventListener("online",function(){q("Connecting\u2026",!0),R(!0)})}catch(e){}}a.SupportChat=a.SupportChat||{},a.SupportChat.init=$t,a.SupportChat.show=function(){try{var t=a.SupportChat.__ui;t&&t.btn&&(t.btn.style.display="")}catch(i){}},a.SupportChat.hide=function(){try{var t=a.SupportChat.__ui;t&&t.btn&&(t.btn.style.display="none"),t&&t.panel&&(t.panel.style.display="none")}catch(i){}},a.SupportChat.recheck=function(){try{let m=function(d){if(d&&typeof d=="object"&&d.source)return d;if(typeof d=="string"){var u=d.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");try{return new RegExp("^"+u+"$")}catch(w){return null}}return null},s=function(d){if(!d||!d.length)return!1;for(var u=0;u<d.length;u++){var w=m(d[u]);if(w&&w.test(i))return!0}return!1};var h=m,v=s,t=a.SupportChat.__opts||{},i=a.location&&a.location.pathname||"/",r=s(Array.isArray(t.excludePaths)?t.excludePaths:null),c=!(Array.isArray(t.includePaths)&&t.includePaths.length)||s(t.includePaths);if(r||!c){a.SupportChat.hide();return}if(!a.SupportChat.__built){a.SupportChat.init(t);return}a.SupportChat.show()}catch(m){}},a.SupportChat.setLocale=function(t){try{var i=(t||"").toString().toLowerCase().slice(0,2);if(!i)return Promise.resolve();try{a.SupportChat.__forcedLocale=i}catch(W){}try{var r=a.SupportChat.__opts||{},c=r.stringsByLocale||{},h=i,v=c[h]||c[h&&h.slice(0,2)]||c.default||null,m={chatButton:"Message us",title:"Support",reconnecting:"Reconnecting\u2026",offline:"Offline. Check your connection.",connecting:"Connecting\u2026",retry:"Retry",inputPlaceholder:"Type a message\u2026",sendLabel:"Send",editNamePlaceholder:"Your name",saveLabel:"Save",cancelLabel:"Cancel",editLabel:"Edit",clearConfirm:"Clear chat history and start new?",closedPrompt:"Conversation closed. Start new?",soundOn:"Sound on",soundOff:"Sound off",vibrationOn:"Vibration on",vibrationOff:"Vibration off",supportLabel:"Support",joinedSuffix:" joined"},s={};for(var d in m)s[d]=m[d];if(v)for(var d in v)v[d]!=null&&(s[d]=String(v[d]));if(r.strings)for(var d in m)r.strings[d]!=null&&(s[d]=String(r.strings[d]));var u=a.SupportChat.__ui||{};if(u.btn&&(u.btn.textContent=s.chatButton),u.edit&&(u.edit.title=s.editLabel),u.title&&(u.title.textContent=s.title),u.input&&(u.input.placeholder=s.inputPlaceholder),u.sendBtn&&(u.sendBtn.textContent=s.sendLabel),u.soundBtn){var w=String((a.localStorage||{}).getItem&&(a.localStorage||{}).getItem("scw:notify:sound")||"0")==="1";u.soundBtn.title=w?s.soundOn:s.soundOff,u.soundBtn.textContent=w?"\u{1F514}":"\u{1F515}"}if(u.vibrateBtn){var L=String((a.localStorage||{}).getItem&&(a.localStorage||{}).getItem("scw:notify:vibrate")||"0")==="1";u.vibrateBtn.title=L?s.vibrationOn:s.vibrationOff,u.vibrateBtn.textContent=L?"\u{1F4F3}":"\u{1F507}"}try{u.edit&&(u.edit.title=s.editLabel)}catch(W){}try{var T=u&&u.title&&u.title.parentElement?u.title.parentElement:null,V=T?T.querySelector(".scw-name-edit"):null;if(V){var N=V.querySelector("input");N&&(N.placeholder=s.editNamePlaceholder);var b=V.getElementsByTagName("button");b&&b[0]&&(b[0].textContent=s.saveLabel),b&&b[1]&&(b[1].textContent=s.cancelLabel)}}catch(W){}}catch(W){}var g=a.localStorage||{getItem:function(){},setItem:function(){}},F=g.getItem("scw:id")||"",P=g.getItem("scw:token")||"",J=g.getItem("scw:origin")||"";return!F||!P||!J?Promise.resolve():fetch(J+"/v1/conversations/"+encodeURIComponent(F)+"/locale",{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer "+P},body:JSON.stringify({locale:i})}).then(function(){})}catch(W){return Promise.resolve()}}})();})();
