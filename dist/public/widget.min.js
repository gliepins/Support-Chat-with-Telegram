"use strict";(()=>{(function(){var B=document,a=window,wt=!1;function V(e,i){try{var r=getComputedStyle(document.documentElement).getPropertyValue(e).trim();return r||i}catch(s){return i}}function yt(e){try{var i=parseFloat(e);return isFinite(i)?Math.max(0,Math.min(1,i)):0}catch(r){return 0}}var g={primary:V("--color-primary-main","#2563eb"),primaryDark:V("--color-primary-dark","#1e40af"),bgPaper:V("--color-background-paper","#ffffff"),bgDefault:V("--color-background-default","#ffffff"),textPrimary:V("--color-text-primary","#111827"),textInverse:"#ffffff",border:V("--color-border-main","#e5e7eb"),muted:"#6b7280"},Bt=`
.scw-btn{position:fixed;right:16px;bottom:16px;background:`+g.primary+";color:"+g.textInverse+`;border-radius:999px;padding:12px 16px;font:14px sans-serif;cursor:pointer;z-index:2147483000;box-shadow:0 8px 20px rgba(0,0,0,.15)}
.scw-badge{position:absolute;top:-4px;right:-4px;background:#ef4444;color:#fff;border-radius:999px;min-width:18px;height:18px;display:none;align-items:center;justify-content:center;font:11px sans-serif;padding:0 5px}
.scw-panel{position:fixed;right:16px;bottom:64px;width:380px;height:600px;background:`+g.bgPaper+";border:1px solid "+g.border+`;border-radius:12px;box-shadow:0 16px 30px rgba(0,0,0,.2);display:none;flex-direction:column;overflow:hidden;z-index:2147483000}
.scw-head{padding:10px 12px;background:`+g.primaryDark+";color:"+g.textInverse+`;font:600 14px sans-serif;display:flex;justify-content:space-between;align-items:center}
.scw-head .scw-actions{display:flex;gap:10px;align-items:center}
.scw-edit{cursor:pointer;opacity:.9}
.scw-edit:hover{opacity:1}
.scw-name-edit{display:flex;gap:6px;align-items:center;margin-left:8px;flex-wrap:wrap}
.scw-name-edit input{flex:1 1 100%;min-width:0;padding:4px 6px;border-radius:6px;border:1px solid `+g.border+";font:12px sans-serif;background:"+g.bgDefault+";color:"+g.textPrimary+`}
.scw-name-btn{background:#10b981;border:0;color:#fff;padding:4px 8px;border-radius:6px;cursor:pointer;font:12px sans-serif}
.scw-name-cancel{background:`+g.muted+`}
.scw-banner{display:none;background:`+g.primaryDark+";color:"+g.textInverse+";font:12px sans-serif;padding:6px 8px;border-bottom:1px solid "+g.border+`}
.scw-body{flex:1;overflow:auto;padding:8px;background:`+V("--color-background-default","#f9fafb")+`}
.scw-msg{margin:6px 0;max-width:84%;padding:8px 10px;border-radius:10px;font:14px sans-serif;display:flex;gap:8px;align-items:flex-end;flex-direction:column;word-break:break-word;overflow-wrap:anywhere}
.scw-line{white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}
.scw-in{background:`+g.primary+";color:"+g.textInverse+`;margin-left:auto;align-items:flex-end}
.scw-out{background:`+g.border+";color:"+g.textPrimary+`;margin-right:auto;align-items:flex-start}
.scw-time{opacity:.7;font:11px sans-serif}
.scw-agent{opacity:.85;font:11px sans-serif;margin-bottom:2px}
.scw-input{display:flex;border-top:1px solid `+g.border+`}
.scw-input textarea{flex:1;border:0;padding:10px;font:14px sans-serif;outline:none;background:`+g.bgDefault+";color:"+g.textPrimary+`;resize:none;min-height:38px;max-height:140px;line-height:1.35;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}
.scw-input button{border:0;background:`+g.primary+";color:"+g.textInverse+`;padding:0 12px;font:14px sans-serif;cursor:pointer}
.scw-retry{cursor:pointer;color:#fde68a;margin-left:8px;text-decoration:underline}
@media (max-width: 480px){.scw-panel{width:92vw;height:70vh}}
`;function l(e,i,r){var s=B.createElement(e);return i&&(s.className=i),r!=null&&(s.textContent=String(r)),s}function Et(){if(!wt){var e=l("style");e.textContent=Bt,B.head.appendChild(e),wt=!0}}function ct(e){try{var i=("; "+document.cookie).split("; "+e+"=");if(i.length===2)return i.pop().split(";").shift()}catch(r){}return""}function $(e,i,r){try{var s=new Date;s.setTime(s.getTime()+(r||30)*24*60*60*1e3),document.cookie=e+"="+encodeURIComponent(i)+"; expires="+s.toUTCString()+"; path=/"}catch(m){}}function bt(e){try{var i=new Date(e);return i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(r){return""}}function Z(e,i,r,s,m){var h=l("div","scw-msg "+(i==="IN"?"scw-in":"scw-out"));if(i==="OUT"&&m){var w=l("div","scw-agent",m+":");h.appendChild(w)}var c=l("div","scw-line");c.textContent=r;var d=l("div","scw-time",bt(s||Date.now()));h.appendChild(c),h.appendChild(d),e.appendChild(h),e.scrollTop=e.scrollHeight}function xt(e,i,r){var s=l("div","scw-msg scw-out"),m=l("div","scw-agent"),h=l("div","scw-line");m.textContent="",h.textContent=i;var w=l("div","scw-time",bt(r||Date.now()));s.style.opacity=".9",s.style.background="transparent",s.style.border="0",s.style.margin="10px 0",s.appendChild(h),s.appendChild(w),e.appendChild(s),e.scrollTop=e.scrollHeight}function Nt(e,i,r){var s=i?{name:i}:{};try{r&&typeof r=="string"&&r.trim().length&&(s.locale=r.trim())}catch(m){}return fetch(e+"/v1/conversations/start",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(s)}).then(function(m){if(!m.ok)throw new Error("start failed");return m.json()})}function Tt(e,i,r,s,m){var h=new WebSocket(e.replace(/^http/,"ws")+"/v1/ws?token="+encodeURIComponent(i));return h.onmessage=function(w){try{var c=JSON.parse(w.data);if(c&&c.type==="agent_joined"){var d=window.SupportChat&&window.SupportChat.__strings||null,u=c.agent&&String(c.agent).trim().length?c.agent:d&&d.supportLabel||"Support",b=d&&d.joinedSuffix;if(!b)try{var E=window.SupportChat&&window.SupportChat.__locale||"",N=window.SupportChat&&window.SupportChat.__opts&&window.SupportChat.__opts.stringsByLocale||{},M=E&&N[E]&&N[E].joinedSuffix||N.default&&N.default.joinedSuffix;b=M||" joined"}catch(x){b=" joined"}var D=u+b;r("SYS",D,Date.now(),null,!0);return}if(c&&c.type==="info_note"){r("SYS",c.text||"",Date.now());return}c&&typeof c.text=="string"&&r(c.direction==="OUTBOUND"?"OUT":"IN",c.text,Date.now(),c.agent)}catch(x){}},h.onopen=function(){s&&s()},h.onclose=function(){m&&m()},h.onerror=function(){try{h.close()}catch(w){}},h}function Dt(e,i,r,s){return fetch(e+"/v1/conversations/"+encodeURIComponent(i)+"/name",{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer "+r},body:JSON.stringify({name:s})}).then(function(m){if(!m.ok)throw new Error("rename failed");return m.json()})}function jt(){try{var e=document.currentScript&&document.currentScript.src;if(!e){var i=document.getElementsByTagName("script");i&&i.length&&(e=i[i.length-1].src)}if(e){var r=new URL(e);return r.origin}}catch(s){}return""}function At(e){Et();var i=(e&&e.origin||jt()).replace(/\/$/,""),r=a.localStorage||{getItem:function(){},setItem:function(){}},s=function(){try{var t=e&&e.locale;if(t)return String(t);try{var n=a.localStorage;if(n&&n.getItem){var o=n.getItem("i18nextLng");if(o)return String(o)}}catch(H){}var f=ct("i18nextLng");if(f)return String(f);var p=B.documentElement&&B.documentElement.lang;if(p)return String(p);var I=a.navigator&&(navigator.language||navigator.userLanguage);if(I)return String(I)}catch(H){}return"default"}();function m(t){if(t&&typeof t=="object"&&t.source)return t;if(typeof t=="string")try{var n=t.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+n+"$")}catch(o){return null}return null}function h(t,n){if(!t||!t.length)return!1;for(var o=0;o<t.length;o++){var f=m(t[o]);if(f&&f.test(n))return!0}return!1}var w=Array.isArray(e&&e.includePaths)?e.includePaths:null,c=Array.isArray(e&&e.excludePaths)?e.excludePaths:null;if(a.SupportChat=a.SupportChat||{},a.SupportChat.__opts=e||{},e&&e.observeRoute&&!a.SupportChat.__observeSetup)try{var d=a.history.pushState,u=a.history.replaceState,b=function(){try{a.dispatchEvent(new Event("scw:navigate"))}catch(t){}};a.history.pushState=function(){try{d.apply(a.history,arguments)}catch(t){}b()},a.history.replaceState=function(){try{u.apply(a.history,arguments)}catch(t){}b()},a.addEventListener("popstate",b),a.addEventListener("hashchange",b),a.addEventListener("scw:navigate",function(){try{a.SupportChat&&a.SupportChat.recheck&&a.SupportChat.recheck()}catch(t){}}),a.SupportChat.__observeSetup=!0}catch(t){}var E=a.location&&a.location.pathname||"/",N=h(c,E),M=!w||w.length===0||h(w,E);if(N||!M)return;var D={chatButton:"Message us",title:"Support",reconnecting:"Reconnecting\u2026",offline:"Offline. Check your connection.",connecting:"Connecting\u2026",retry:"Retry",inputPlaceholder:"Type a message\u2026",sendLabel:"Send",editNamePlaceholder:"Your name",saveLabel:"Save",cancelLabel:"Cancel",confirmYes:"Yes",confirmNo:"No",editLabel:"Edit",clearConfirm:"Clear chat history?",closedPrompt:"Conversation closed. Start new?",soundOn:"Sound on",soundOff:"Sound off",vibrationOn:"Vibration on",vibrationOff:"Vibration off",supportLabel:"Support",joinedSuffix:" joined"},x=function(){try{var t=e&&e.stringsByLocale;if(!t)return null;var n=String(s||"").toLowerCase();return n.length>=2&&(n=n.slice(0,2)),t[n]||t.default||null}catch(o){return null}}(),v=function(){var t={};for(var n in D)t[n]=D[n];if(x)for(var n in x)x[n]!=null&&(t[n]=String(x[n]));if(e&&e.strings)for(var n in D)e.strings[n]!=null&&(t[n]=String(e.strings[n]));return t}();try{a.SupportChat=a.SupportChat||{},a.SupportChat.__strings=v,a.SupportChat.__locale=String(s||"").toLowerCase().slice(0,2)||"default"}catch(t){}function Y(){try{return a.SupportChat&&a.SupportChat.__strings||v}catch(t){return v}}function L(t,n){try{var o=r.getItem(t);return o==null||o===""?n:o}catch(f){return n}}function G(t,n){try{r.setItem(t,n)}catch(o){}}var q=e&&typeof e.showSoundToggle=="boolean"?!!e.showSoundToggle:!0,Ut=e&&typeof e.showVibrationToggle=="boolean"?!!e.showVibrationToggle:!0;try{e&&e.soundDefaultOn===!0&&r.getItem("scw:notify:sound")==null&&r.setItem("scw:notify:sound","1")}catch(t){}try{e&&e.vibrationDefaultOn===!0&&r.getItem("scw:notify:vibrate")==null&&r.setItem("scw:notify:vibrate","1")}catch(t){}var Vt=e&&typeof e.soundGain=="number"?Math.max(.1,Math.min(5,e.soundGain)):1,Ct=e&&typeof e.soundVolume=="number"?yt(e.soundVolume):null;Ct!=null&&G("scw:notify:volume",String(Ct));var j=l("div","scw-btn",v.chatButton),st=l("div","scw-badge","0");j.style.position="fixed",j.style.bottom="16px";var tt=(e&&e.position||"right")==="left"?"left":"right";j.style[tt]="16px",j.style[tt==="right"?"left":"right"]="auto",j.appendChild(st);var C=l("div","scw-panel");C.style[tt]="16px",C.style[tt==="right"?"left":"right"]="auto";var R=l("div","scw-head"),et=l("div","",v.title),T=l("div","scw-actions"),nt=l("div","scw-edit","\u270E");try{nt.title=Y().editLabel||v.editLabel}catch(t){}var A=q?l("div","scw-edit"):null,U=Ut?l("div","scw-edit"):null,St=l("div","scw-edit","_"),_t=l("div","scw-edit","\xD7");function lt(){var t=String(L("scw:notify:sound","0"))==="1",n=String(L("scw:notify:vibrate","0"))==="1";A&&(A.textContent=t?"\u{1F514}":"\u{1F515}",A.title=t?v.soundOn:v.soundOff),U&&(U.textContent=n?"\u{1F4F3}":"\u{1F507}",U.title=n?v.vibrationOn:v.vibrationOff)}A&&(A.onclick=function(){at();var t=String(L("scw:notify:sound","0"))==="1";G("scw:notify:sound",t?"0":"1"),lt()}),U&&(U.onclick=function(){var t=String(L("scw:notify:vibrate","0"))==="1";G("scw:notify:vibrate",t?"0":"1"),lt()}),lt(),T.appendChild(nt),A&&T.appendChild(A),U&&T.appendChild(U),T.appendChild(St),T.appendChild(_t),R.appendChild(et),R.appendChild(T);var y=l("div","scw-banner",v.reconnecting),P=l("div","scw-body"),ut=l("div","scw-input"),k=l("textarea");k.placeholder=v.inputPlaceholder;var rt=l("button","",v.sendLabel);ut.appendChild(k),ut.appendChild(rt),C.appendChild(R),C.appendChild(y),C.appendChild(P),C.appendChild(ut),B.body.appendChild(j),B.body.appendChild(C);try{a.SupportChat.__ui={btn:j,panel:C,title:et,input:k,sendBtn:rt,soundBtn:A,vibrateBtn:U,banner:y,edit:nt},a.SupportChat.__built=!0}catch(t){}function J(t,n){if(y.style.display="block",y.textContent=t,n){var o=l("span","scw-retry",v.retry);o.onclick=function(){X(!0)},y.appendChild(o)}}function dt(){y.style.display="none",y.textContent="";try{for(;y.firstChild;)y.removeChild(y.firstChild)}catch(t){}}var Jt=null,Ft=null,Rt="";function Wt(t){}function Kt(){}var S=null,kt=!1;function Mt(){var t=yt(L("scw:notify:volume","1"));return t}function at(){try{S=S||new(a.AudioContext||a.webkitAudioContext),S&&S.state==="suspended"&&S.resume(),kt=!0}catch(t){}}try{B.addEventListener("click",function t(){at();try{B.removeEventListener("click",t)}catch(n){}},{once:!0,capture:!0})}catch(t){}function Yt(){if(kt)try{if(S=S||new(a.AudioContext||a.webkitAudioContext),S.state==="suspended")try{S.resume()}catch(p){}var t=S.createOscillator(),n=S.createGain();t.type="sine",t.frequency.value=1100;var o=Math.min(1,Math.max(2e-4,.25*Mt()*Vt)),f=S.currentTime;n.gain.setValueAtTime(1e-4,f),n.gain.linearRampToValueAtTime(o,f+.03),n.gain.linearRampToValueAtTime(1e-4,f+.32),t.connect(n),n.connect(S.destination),t.start(f),t.stop(f+.34)}catch(p){}}function zt(){try{navigator.vibrate&&navigator.vibrate(20)}catch(t){}}function Ht(){try{var t=C.style.display==="flex";return!t||!B.hasFocus()}catch(n){return!0}}var z=null,W=!1,it=[],K=0,F=0,ot="";function ft(){st.style.display=K>0?"flex":"none",st.textContent=String(K)}function $t(){var t=parseInt(r.getItem("scw:ts")||"0",10)||0,n=30*24*60*60*1e3;t&&Date.now()-t>n&&(r.removeItem("scw:id"),r.removeItem("scw:token"))}$t();function Q(t){var n=r.getItem("scw:id")||ct("scw_id"),o=r.getItem("scw:token")||ct("scw_token");if(!t&&n&&o)return r.setItem("scw:id",n),r.setItem("scw:token",o),Promise.resolve({conversation_id:n,token:o});var f=null;try{f=a.SupportChat&&a.SupportChat.__forcedLocale||null}catch(_){}var p=f||s,I="";try{I=String(p||"").toLowerCase().slice(0,2)}catch(_){}var H=p&&typeof p=="string"&&p.toLowerCase()!=="default"&&/^[a-z]{2}$/.test(I)?I:void 0;return Nt(i,r.getItem("scw:name")||void 0,H).then(function(_){return r.setItem("scw:origin",i),r.setItem("scw:id",_.conversation_id),r.setItem("scw:token",_.token),$("scw_id",_.conversation_id,30),$("scw_token",_.token,30),r.setItem("scw:ts",String(Date.now())),{conversation_id:_.conversation_id,token:_.token}})}function It(){var t=Y(),n=r.getItem("scw:name");et.textContent=n?t.supportLabel+" \u2014 "+n:t.title}It();function Lt(){try{r.removeItem("scw:id"),r.removeItem("scw:token"),$("scw_id","",-1),$("scw_token","",-1)}catch(t){}}function Pt(){var t=r.getItem("scw:id");return t?fetch(i+"/v1/conversations/"+encodeURIComponent(t)+"/messages").then(function(n){if(n.status===404)throw new Error("gone");if(!n.ok)throw new Error("bad");return n.json()}).then(function(n){var o=n.status,f=n.messages||[];P.innerHTML="",f.forEach(function(p){Z(P,p.direction==="INBOUND"?"IN":"OUT",p.text,new Date(p.createdAt).getTime(),p.agent)}),o==="CLOSED"&&xt(P,"Conversation closed. Start new?",Date.now())}).catch(function(){return Lt(),Q(!0).then(function(n){return P.innerHTML="",fetch(i+"/v1/conversations/"+encodeURIComponent(n.conversation_id)+"/messages").then(function(o){if(o.ok)return o.json()}).then(function(o){if(o){var f=o.messages||[];f.forEach(function(p){Z(P,p.direction==="INBOUND"?"IN":"OUT",p.text,new Date(p.createdAt).getTime(),p.agent)})}})})}):Promise.resolve()}function pt(t){if(!W){if(W=!0,z&&z.readyState===1){W=!1;return}navigator.onLine?J(F>0?v.reconnecting:v.connecting,!0):J(v.offline,!0),z=Tt(i,t,function(n,o,f,p,I){if(n==="SYS"){xt(P,o,f),I&&void 0;return}if(n==="IN"&&ot&&o===ot){ot="";return}n==="OUT"&&void 0,Z(P,n,o,f,p),C.style.display!=="flex"&&n==="OUT"&&(K++,ft()),n==="OUT"&&Ht()&&(String(L("scw:notify:sound","0"))==="1"&&Yt(),String(L("scw:notify:vibrate","0"))==="1"&&zt())},function(){for(W=!1,F=0,dt();it.length;)try{z.send(it.shift())}catch(n){}},function(){if(W=!1,F++,navigator.onLine?(J(v.reconnecting,!0),void 0):J(v.offline,!0),F>=3)Lt(),Q(!0).then(function(o){Pt().then(function(){pt(o.token)})});else{var n=Math.min(1e4,500*F);setTimeout(function(){X()},n)}})}}function X(t){Q(!1).then(function(n){t&&(F=0),pt(n.token)})}function Gt(t){if(z&&z.readyState===1)try{z.send(t)}catch(n){it.push(t),X(!0)}else it.push(t),X(!0);ot=t,Z(P,"IN",t,Date.now())}function ht(){C.style.display="flex",r.setItem("scw:ts",String(Date.now())),r.setItem("scw:open","1"),K=0,ft(),Q(!1).then(function(t){Pt().then(function(){pt(t.token)})})}function vt(){C.style.display="none";try{r.removeItem("scw:open")}catch(t){}}function qt(){try{r.removeItem("scw:id"),r.removeItem("scw:token"),r.removeItem("scw:name"),r.removeItem("scw:draft"),$("scw_id","",-1),$("scw_token","",-1)}catch(t){}P.innerHTML="",et.textContent="Support",K=0,ft()}j.onclick=function(){at(),C.style.display==="flex"?vt():ht()},St.onclick=vt,_t.onclick=function(){var t=Y();y.style.display="block",y.textContent=t.clearConfirm;try{for(;y.firstChild;)y.removeChild(y.firstChild)}catch(f){}y.textContent=t.clearConfirm+" ";var n=l("button","scw-name-btn",t.confirmYes||"Yes"),o=l("button","scw-name-btn scw-name-cancel",t.confirmNo||"No");n.style.marginLeft="8px",o.style.marginLeft="6px",y.appendChild(n),y.appendChild(o),o.onclick=function(){dt()},n.onclick=function(){dt(),qt(),vt()}};var gt=!1;nt.onclick=function(){gt||(gt=!0,Q(!1).then(function(t){var n=Y(),o=r.getItem("scw:name")||"",f=l("div","scw-name-edit"),p=l("input");p.value=o,p.placeholder=n.editNamePlaceholder;var I=l("button","scw-name-btn",n.saveLabel),H=l("button","scw-name-btn scw-name-cancel",n.cancelLabel);f.appendChild(p),f.appendChild(I),f.appendChild(H),R.insertBefore(f,T);try{T.style.display="none"}catch(O){}function _(){try{R.removeChild(f)}catch(O){}try{T.style.display=""}catch(O){}gt=!1}H.onclick=_,I.onclick=function(){var O=p.value.trim();if(!O){_();return}Dt(i,r.getItem("scw:id"),r.getItem("scw:token")||"",O).then(function(){r.setItem("scw:name",O),It(),_()}).catch(function(){alert("Could not update name right now. Please try later."),_()})},p.addEventListener("keydown",function(O){O.key==="Enter"&&I.onclick(),O.key==="Escape"&&H.onclick()}),setTimeout(function(){try{p.focus(),p.select()}catch(O){}},0)}))};try{(e&&e.openOnLoad===!0||r.getItem("scw:open")==="1")&&ht()}catch(t){}function mt(){k.style.height="auto";var t=Math.min(140,Math.max(38,k.scrollHeight));k.style.height=t+"px"}k.addEventListener("input",function(){r.setItem("scw:draft",k.value||""),mt()}),rt.onclick=function(){at();var t=k.value.trim();t&&(k.value="",r.removeItem("scw:draft"),mt(),Gt(t))},k.addEventListener("keydown",function(t){t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),rt.onclick())});var Ot=r.getItem("scw:draft");Ot&&(k.value=Ot,setTimeout(mt,0));try{a.addEventListener("offline",function(){J("Offline. Check your connection.",!0)}),a.addEventListener("online",function(){J("Connecting\u2026",!0),X(!0)})}catch(t){}}a.SupportChat=a.SupportChat||{},a.SupportChat.init=At,a.SupportChat.show=function(){try{var e=a.SupportChat.__ui;e&&e.btn&&(e.btn.style.display="")}catch(i){}},a.SupportChat.hide=function(){try{var e=a.SupportChat.__ui;e&&e.btn&&(e.btn.style.display="none"),e&&e.panel&&(e.panel.style.display="none")}catch(i){}},a.SupportChat.recheck=function(){try{let w=function(d){if(d&&typeof d=="object"&&d.source)return d;if(typeof d=="string"){var u=d.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");try{return new RegExp("^"+u+"$")}catch(b){return null}}return null},c=function(d){if(!d||!d.length)return!1;for(var u=0;u<d.length;u++){var b=w(d[u]);if(b&&b.test(i))return!0}return!1};var m=w,h=c,e=a.SupportChat.__opts||{},i=a.location&&a.location.pathname||"/",r=c(Array.isArray(e.excludePaths)?e.excludePaths:null),s=!(Array.isArray(e.includePaths)&&e.includePaths.length)||c(e.includePaths);if(r||!s){a.SupportChat.hide();return}if(!a.SupportChat.__built){a.SupportChat.init(e);return}a.SupportChat.show()}catch(w){}},a.SupportChat.setLocale=function(e){try{var i=(e||"").toString().toLowerCase().slice(0,2);if(!i)return Promise.resolve();try{a.SupportChat.__forcedLocale=i}catch(q){}try{var r=a.SupportChat.__opts||{},s=r.stringsByLocale||{},m=i,h=s[m]||s[m&&m.slice(0,2)]||s.default||null,w={chatButton:"Message us",title:"Support",reconnecting:"Reconnecting\u2026",offline:"Offline. Check your connection.",connecting:"Connecting\u2026",retry:"Retry",inputPlaceholder:"Type a message\u2026",sendLabel:"Send",editNamePlaceholder:"Your name",saveLabel:"Save",cancelLabel:"Cancel",editLabel:"Edit",clearConfirm:"Clear chat history and start new?",closedPrompt:"Conversation closed. Start new?",soundOn:"Sound on",soundOff:"Sound off",vibrationOn:"Vibration on",vibrationOff:"Vibration off",supportLabel:"Support",joinedSuffix:" joined"},c={};for(var d in w)c[d]=w[d];if(h)for(var d in h)h[d]!=null&&(c[d]=String(h[d]));if(r.strings)for(var d in w)r.strings[d]!=null&&(c[d]=String(r.strings[d]));var u=a.SupportChat.__ui||{};if(u.btn&&(u.btn.textContent=c.chatButton),u.edit&&(u.edit.title=c.editLabel),u.title&&(u.title.textContent=c.title),u.input&&(u.input.placeholder=c.inputPlaceholder),u.sendBtn&&(u.sendBtn.textContent=c.sendLabel),u.soundBtn){var b=String((a.localStorage||{}).getItem&&(a.localStorage||{}).getItem("scw:notify:sound")||"0")==="1";u.soundBtn.title=b?c.soundOn:c.soundOff,u.soundBtn.textContent=b?"\u{1F514}":"\u{1F515}"}if(u.vibrateBtn){var E=String((a.localStorage||{}).getItem&&(a.localStorage||{}).getItem("scw:notify:vibrate")||"0")==="1";u.vibrateBtn.title=E?c.vibrationOn:c.vibrationOff,u.vibrateBtn.textContent=E?"\u{1F4F3}":"\u{1F507}"}try{u.edit&&(u.edit.title=c.editLabel)}catch(q){}try{var N=u&&u.title&&u.title.parentElement?u.title.parentElement:null,M=N?N.querySelector(".scw-name-edit"):null;if(M){var D=M.querySelector("input");D&&(D.placeholder=c.editNamePlaceholder);var x=M.getElementsByTagName("button");x&&x[0]&&(x[0].textContent=c.saveLabel),x&&x[1]&&(x[1].textContent=c.cancelLabel)}}catch(q){}}catch(q){}var v=a.localStorage||{getItem:function(){},setItem:function(){}},Y=v.getItem("scw:id")||"",L=v.getItem("scw:token")||"",G=v.getItem("scw:origin")||"";return!Y||!L||!G?Promise.resolve():fetch(G+"/v1/conversations/"+encodeURIComponent(Y)+"/locale",{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer "+L},body:JSON.stringify({locale:i})}).then(function(){})}catch(q){return Promise.resolve()}}})();})();
